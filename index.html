<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pro Minimalist QR Generator</title>
<script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
  body { margin:0; font-family: 'Inter', sans-serif; background:#f0f2f5; display:flex; flex-direction:column; align-items:center; min-height:100vh; padding:30px; }
  h1 { color:#222; text-align:center; margin-bottom:20px; }
  .container { display:flex; flex-wrap:wrap; justify-content:center; gap:30px; max-width:1200px; width:100%; }
  .controls, .preview { background:white; border-radius:20px; padding:20px; box-shadow:0 4px 20px rgba(0,0,0,0.08); }
  .controls { flex:1; min-width:300px; display:flex; flex-direction:column; gap:15px; }
  .preview { flex:1; min-width:300px; display:flex; flex-direction:column; align-items:center; }
  input, select, button { padding:10px 15px; font-size:1rem; border-radius:10px; border:1px solid #ccc; outline:none; }
  button { background:#4caf50; color:white; border:none; cursor:pointer; transition:0.2s; }
  button:hover { background:#45a049; }
  #qr-container { margin-top:20px; }
  .download-buttons { display:flex; gap:10px; margin-top:15px; flex-wrap:wrap; }
</style>
</head>
<body>

<h1>âœ¨ Pro Minimalist QR Generator</h1>

<div class="container">
  <div class="controls">
    <input type="text" id="text" placeholder="Enter URL or text">
    
    <label>Foreground Color</label>
    <input type="color" id="fgColor" value="#000000">
    
    <label>Background Color</label>
    <input type="color" id="bgColor" value="#ffffff">

    <label>Gradient (optional)</label>
    <input type="text" id="gradient" placeholder="e.g., #ff7e5f,#feb47b">

    <label>QR Template</label>
    <select id="template">
      <option value="rounded">Rounded Dots</option>
      <option value="classic">Classic Squares</option>
      <option value="dots">Dots + Gradient</option>
    </select>

    <label>Upload Logo/Icon (optional)</label>
    <input type="file" id="logoInput" accept="image/*">

    <button id="generate">Generate QR Code</button>
  </div>

  <div class="preview">
    <div id="qr-container"></div>
    <div class="download-buttons">
      <button id="download-png">Download PNG</button>
      <button id="download-svg">Download SVG</button>
    </div>
  </div>
</div>

<script>
  let qrCode = new QRCodeStyling({
    width: 300,
    height: 300,
    data: "",
    dotsOptions: { color: "#000000", type: "rounded" },
    cornersSquareOptions: { type: "extra-rounded", color: "#000000" },
    cornersDotOptions: { type: "dot", color: "#000000" },
    backgroundOptions: { color: "#ffffff" },
    imageOptions: { crossOrigin: "anonymous", margin:5 }
  });

  const qrContainer = document.getElementById("qr-container");
  qrCode.append(qrContainer);

  document.getElementById("generate").addEventListener("click", () => {
    const text = document.getElementById("text").value;
    if(!text){ alert("Enter text or URL!"); return; }

    const fg = document.getElementById("fgColor").value;
    const bg = document.getElementById("bgColor").value;
    const grad = document.getElementById("gradient").value;
    const template = document.getElementById("template").value;
    const logoFile = document.getElementById("logoInput").files[0];

    let dotsType = "rounded";
    if(template === "classic") dotsType="classy-rounded";
    if(template === "dots") dotsType="dots";

    let qrOptions = {
      data: text,
      dotsOptions: { color: fg, type: dotsType },
      cornersSquareOptions: { type: "extra-rounded", color: fg },
      cornersDotOptions: { type: "dot", color: fg },
      backgroundOptions: { color: bg }
    };

    if(grad){
      qrOptions.dotsOptions.gradient = { type:"linear", rotation: 45, colorStops: grad.split(",").map((c,i)=>({offset:i, color:c})) }
    }

    if(logoFile){
      const reader = new FileReader();
      reader.onload = function(e){
        qrOptions.image = e.target.result;
        qrCode.update(qrOptions);
      }
      reader.readAsDataURL(logoFile);
    } else {
      qrCode.update(qrOptions);
    }
  });

  document.getElementById("download-png").addEventListener("click", ()=> qrCode.download({name:"qr-code", extension:"png"}));
  document.getElementById("download-svg").addEventListener("click", ()=> qrCode.download({name:"qr-code", extension:"svg"}));
</script>

</body>
</html>
